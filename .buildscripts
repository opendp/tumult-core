#!/bin/bash

SOURCE_DIR="tmlt/core"
TAG_PREFIX="tmlt.core"

PYDOCSTYLE_ENABLE="true"

TEST_MIN_COVERAGE="70%"

function benchmark() {
    echo "=== Benchmarking Core ==="
    mkdir -p $BASE_DIR/public/pages/reports/
    cd $BASE_DIR/

    set -x
    python benchmark/benchmarking_privacy_framework_private_join.py >public/pages/reports/benchmark_private_join.html
    python benchmark/benchmarking_privacy_framework_count_sum.py >public/pages/reports/benchmark_privacy_framework_count_sum.html
    python benchmark/benchmarking_privacy_framework_quantile.py >public/pages/reports/benchmark_privacy_framework_quantile.html
    python benchmark/benchmarking_privacy_framework_adding_noise.py >public/pages/reports/benchmark_adding_noise_dataframes.html
    python benchmark/benchmarking_privacy_framework_sparkmap.py >public/pages/reports/benchmark_sparkmap.html
    python benchmark/benchmarking_privacy_framework_sparkflatmap.py >public/pages/reports/benchmark_sparkflatmap.html
    python benchmark/benchmarking_privacy_framework_public_join.py >public/pages/reports/benchmark_public_join.html
    set +x
}
